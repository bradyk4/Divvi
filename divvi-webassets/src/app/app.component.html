
<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->
<!-- * * * * * * * * * * * The content below * * * * * * * * * * * -->
<!-- * * * * * * * * * * is only a placeholder * * * * * * * * * * -->
<!-- * * * * * * * * * * and can be replaced. * * * * * * * * * * * -->
<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->
<!-- * * * * * * * * * Delete the template below * * * * * * * * * * -->
<!-- * * * * * * * to get started with your project! * * * * * * * * -->
<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<div class = "container" href="/styles.css">
  <header style= "border: black; border-width:2px; border-style:solid;">
    <h2>Divvi Web Application</h2>
    <i class="fa fa-cloud" style="color:grey; font-size:60px;text-shadow:2px 2px 4px #000000;"></i>
  </header>
  <body>
  <form>
  <div class="row">
  <h2 style="text-align:left;">Existing Groups:</h2>
  <hr>
    <div class="col-md-6">
  <table class="table table-responsive table-striped table-bordered table-sm">
    <thead class="thead-dark">
    <tr>
      <th >Group Name</th>
      <th>Number</th>
      <th>ID</th>
      <th>Users:</th>
    </tr>
    </thead>
    <tr *ngIf="groupUsers">
      <td>{{groupUsers.name}}</td>
      <td>{{groupUsers.number}}</td>
      <td>{{groupUsers.id}}</td>
    </tr>
    <tr>
      <th>User</th>
      <th>Balance</th>
      <th>Group ID</th>
      <th>ID</th>
    </tr>
    <tr *ngFor="let user of groupUsers.Users">
      <td>{{user.name}}</td>
      <td>{{user.balance}}</td>
      <td>{{user.groupId}}</td>
      <td>{{user.id}}</td>
    </tr>
    </table>
    </div>
    
    <div class="col-md-6 float-right">
    <h4>Pending Transactions:</h4>
    <table class="table table-responsive table-striped table-bordered table-sm ">
      <thead class="thead-dark">
      <tr>
        <th>Username</th>
        <th >Expense Name</th>
        <th>Expense Description</th>
        <th>Amount Owed</th>
      </tr>
        <tr *ngFor="let transaction of pendingTransactions">
          <td>{{transaction.groupUsers}}</td>
          <td>{{transaction.expenseName}}</td>
          <td>{{transaction.expenseDesc}}</td>
          <td>{{transaction.payment}} </td>
        </tr>
      </thead>
    </table>
    </div>
  </div>

    <button class="btn btn-primary"(click)="showUserAddInput()">Click to add member to group</button>
    <div *ngIf="addUser" class="row container-fluid col-md-6"  id="evenshow" >
      <p style="text-align: left;">Please enter the username of the member you want to add to the group: <input id="name" type="text" [(ngModel)]="name" placeholder="Username" /></p>
      <p style="text-align: left;">Please enter the group ID of the group you would like to be added to: <input id="groupID" type="text" [(ngModel)]="groupID" placeholder="Group ID" /></p>
      <button class="btn btn-success btn-sm col-md-2"(click)="createTable()">Click to add member to group</button>
      <button class="btn btn-danger btn-sm col-md-2"(click)="showUserAddInput()">Click to cancel</button>
    </div>
  </form>
  <br>

<div class="col-xs-6">
<form id="createNewExpense" >
  <button class="btn btn-primary"(click)="showNewExpense()">Click to Create a New Expense</button>
    <div *ngIf="newExpense" class="row container-fluid col-md-6"  id="evenshow" >
  <p class="h4 mb-4 float-left">Create a New Expense</p>
  <label >Enter a Name For the Expense:   </label>
  <input id="Expense Name" placeholder = "Expense Name" type="text" name="Expense" [(ngModel)] = "expenseName">
  <br>
  <br>
  <label >Enter a Description For the Expense:   </label>
  <input id="Expense Description" placeholder = "Expense Description" type="text" name="Expense" [(ngModel)] = "expenseDesc">
  <br>
  <br>
  <label >Enter the Amount You Would Like to Split:   </label>
  <input id="Expense" placeholder = "Expense Amount" type="number" name="payment" [(ngModel)] = "payment">
  <br>
  <button class="btn btn-success btn-sm col-md-4"(click)="showPaymentOptions()">Click to Create New Payment</button>
      <button class="btn btn-danger btn-sm col-md-3"(click)="cancelShowNewExpense()">Click to cancel</button> 
  </div>
  <br>
  <br>
  <div *ngIf="showPayments" class="row container-fluid col-md-6"  id="evenshow" >
  <label>Select how you want to split your payments: </label>
  <br>
  <button  mat-raised-button (click)="toggleEvenShow()">Evenly</button>
  <button  mat-raised-button (click)="toggleFixedShow()">Fixed Amount</button>
  <button  mat-raised-button (click)="togglePercentShow()">Percentage</button>
  </div>
</form>
</div>
    <div *ngIf="evenIsShown" class="row container-fluid"  id="evenshow" >
      <p>Press Split Payment to confirm</p>
      <button  mat-raised-button (click)="Evenly()">Split Payment</button>
    </div>
    <div *ngIf="fixedIsShown" class="row container-fluid"  id="fixedshow" >
      <ng-container *ngFor="let user of groupUsers.Users; let i = index">Enter Fixed Amount for {{user.name}}: <input placeholder = "Fixed Amount" type="number" name="fixedamt" [(ngModel)]= "fixedamt[i]"> <br> </ng-container>
  
      <button  mat-raised-button (click)="Fixedamount()">Split Payment</button>
  </div>
  <div *ngIf="percentIsShown" class="row container-fluid"  id="percentshow" >
      <ng-container *ngFor="let user of groupUsers.Users; let i = index">Enter Percentage for {{user.name}}: <input placeholder = "Percentage" type="number" name="percent" [(ngModel)] = "percent[i]">> <br> </ng-container>
      
      <button  mat-raised-button (click)="Percentage()">Split Payment</button>
  </div>
  

  <br>
  <br>
  <br>
  <br>
  <br>
  <button  mat-raised-button (click)="clearGroup()">Clear Group</button>
  <button  mat-raised-button (click)="clearAmountOwed()">Clear Amount Owed</button>
  